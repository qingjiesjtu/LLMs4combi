{
  "1.1": {
    "problem": "$m$ 个男生和 $n$ 个女生排成一行（$m$, $n$ 均为正整数），若  \n  \\begin{enumerate}[label=(\\arabic*)]    \n    \\item 任何两个男生不相邻（$m \\leq n + 1$);   \n     \\item $n$ 个女生形成一个整体（即任何两个女生之间没有男生）；  \n     \\item 男生 $A$ 和女生 $B$ 相邻。    \\end{enumerate}  \n  分别讨论有多少种方案。",
    "answers": {
      "(1)": [
        {
          "answer": "男生的位置相当于从$n + m$个位置中选择$m$个的不相邻组合，方案数为$\\binom{n + 1}{m}$；\n              每种位置方案下男女生各自有$m!$和$n!$种排列方式，因此最终得到的方案数即为 \n                  \\begin{equation*}\n                  \\binom{n + 1}{m} n! m! = \\frac{n! (n + 1)!}{(n - m + 1)!} \n              \\end{equation*}",
          "rules": [
            {
              "rule": "男生的位置相当于从$n + m$个位置中选择$m$个的不相邻组合，方案数为$\\binom{n + 1}{m}$",
              "score": 1
            },
            {
              "rule": "最终得到的方案数即为 \n                  \\begin{equation*}\n                  \\binom{n + 1}{m} n! m! = \frac{n! (n + 1)!}{(n - m + 1)!} \n              \\end{equation*}",
              "score": 3
            }
          ]
        }
      ],
      "(2)": [
        {
          "answer": "将全体女生视作一个$n!$种可能性的整体与$m$个男生作排列，方案数即为$n!(m + 1)!$；",
          "rules": [
            {
              "rule": "将全体女生视作一个$n!$种可能性的整体与$m$个男生作排列",
              "score": 1
            },
            {
              "rule": "方案数即为$n!(m + 1)!$",
              "score": 2
            }
          ]
        }
      ],
      "(3)": [
        {
          "answer": "将$AB$或$BA$视作一个整体与其余$m + n - 2$个学生作排列，方案数即为$2(m + n - 1)!$",
          "rules": [
            {
              "rule": "将$AB$或$BA$视作一个整体与其余$m + n - 2$个学生作排列",
              "score": 1
            },
            {
              "rule": "方案数即为$2(m + n - 1)!$",
              "score": 2
            }
          ]
        }
      ]
    }
  },
  "1.2": {
    "problem": "6 个男生和 5 个女生围在一圆桌旁，若 \n     \\begin{enumerate}[label=(\\arabic*)] \n        \\item 任何两个女生不相邻；\n        \\item 所有女生形成一个整体；\n        \\item 女生 $A$ 两侧均是男生。\n    \\end{enumerate}\n    分别讨论有多少种方案。",
    "answers": {
      "(1)": [
        {
          "answer": "$6$个男生之间形成$6$个空位，$5$位女生每人占据一个空位。从剩下的那个空位处切开圆排列、顺时针展开，即得到男女间隔的一个线排列，而所求的圆排列显然和展开后的线排列一一对应。              因此，方案数即为$6! \\dotp 5! = 86400$",
          "rules": [
            {
              "rule": "$6$个男生之间形成$6$个空位，$5$位女生每人占据一个空位",
              "score": 1
            },
            {
              "rule": "方案数即为$6! \\dotp 5! = 86400$",
              "score": 3
            }
          ]
        }
      ],
      "(2)": [
        {
          "answer": "将全体女生视作一个$6!$种可能性的整体与$5$个男生作圆排列，方案数即为$6! \\dotp 5! = 86400$",
          "rules": [
            {
              "rule": "将全体女生视作一个$6!$种可能性的整体与$5$个男生作圆排列",
              "score": 1
            },
            {
              "rule": "方案数即为$6! \\dotp 5! = 86400$",
              "score": 2
            }
          ]
        }
      ],
      "(3)": [
        {
          "answer": "从$8$个男生中依次挑选两人放置在$A$的左右两侧（$P(6, 2)$种方案），然后将其视作一个整体与其余$8$个学生作圆排列，方案数即为$P(6, 2) \\dotp 8! = 1\\,209\\,600$",
          "rules": [
            {
              "rule": "从$8$个男生中依次挑选两人放置在$A$的左右两侧（$P(6, 2)$种方案），然后将其视作一个整体与其余$8$个学生作圆排列",
              "score": 1
            },
            {
              "rule": "方案数即为$P(6, 2) \\dotp 8! = 1\\,209\\,600$",
              "score": 2
            }
          ]
        }
      ]
    }
  },
  "1.3": {
    "problem": "计算：\n     \\[\n     \\sum_{k=1}^{n} k \\cdot k! = 1 \\cdot 1! + 2 \\cdot 2! + \\cdots + n \\cdot n!\n     \\]",
    "answers": {
      "(1)": [
        {
          "answer": "$\\sum_{k = 1}^n k \\cdot k! = \\sum_{k = 1}^n \\left[ (k + 1)! - k! \\right] = (n + 1)! - 0! = (n + 1)! - 1$",
          "rules": [
            {
              "rule": "$\\sum_{k = 1}^n k \\cdot k! = \\sum_{k = 1}^n \\left[ (k + 1)! - k! \\right]",
              "score": 7
            },
            {
              "rule": "$ = (n + 1)! - 1$",
              "score": 3
            }
          ]
        }
      ]
    }
  },
  "1.4": {
    "problem": "求 $10^{40}$ 与 $20^{30}$ 的公因数的数目",
    "answers": {
      "(1)": [
        {
          "answer": "$10^{40} = 2^{40} \\dotp 5^{40}$与$20^{30} = 2^{60} \\dotp 5^{30}$的最大公约数为$2^{40} \\dotp 5^{30}$，所求的即是它的约数数目，为$41 \\times 31 = 1271$",
          "rules": [
            {
              "rule": "最大公约数为$2^{40} \\dotp 5^{30}$",
              "score": 3
            },
            {
              "rule": "所求的即是它的约数数目",
              "score": 3
            },
            {
              "rule": "$41 \\times 31 = 1271$",
              "score": 4
            }
          ]
        }
      ]
    }
  },
  "1.5": {
    "problem": "求从 $1$ 到 $1{,}000{,}000$ 的整数的十进制表示中，数字 $0$ 出现的总次数。",
    "answers": {
      "(1)": [
        {
          "answer": "全体$n$位整数共有$9 \\times 10^{n-1}$个，数字$0$可出现在除最高位的任何一位上，每一位上出现的频率均为$\frac{1}{10}$；\n     因此，在全体$n$位整数中，数字$0$总共出现$9(n - 1) \\dotp 10^{n-2}$次。\n    注意单独考虑$1\\,000\\,000$的贡献，可得答案为\n    %\n    \\begin{equation*}\n        6 + \\sum_{n = 1}^{6} 9(n - 1) \\dotp 10^{n-2} = 6 + 0 + 9 + 180 + 2\\,700 + 36\\,000 + 450\\,000 = 488\\,895\n    \\end{equation*}",
          "rules": [
            {
              "rule": "全体$n$位整数共有$9 \\times 10^{n-1}$个",
              "score": 2
            },
            {
              "rule": "数字$0$可出现在除最高位的任何一位上，每一位上出现的频率均为$\frac{1}{10}$；",
              "score": 2
            },
            {
              "rule": "因此，在全体$n$位整数中，数字$0$总共出现$9(n - 1) \\dotp 10^{n-2}$次。\n    注意单独考虑$1000000$的贡献",
              "score": 2
            },
            {
              "rule": "答案为\n    %\n    \\begin{equation*}\n        6 + \\sum_{n = 1}^{6} 9(n - 1) \\dotp 10^{n-2} = 6 + 0 + 9 + 180 + 2\\,700 + 36\\,000 + 450\\,000 = 488\\,895\n    \\end{equation*}",
              "score": 4
            }
          ]
        }
      ]
    }
  },
  "1.6": {
    "problem": "将 $n$ 个相同的小球放入 $r$ 个不同的盒子中（$n \\geq r$），禁止出现空盒，求方案数",
    "answers": {
      "(1)": [
        {
          "answer": "即$\\sum_{i = 1}^r x_i = n - r$的非负整数解数目，为$\\binom{n - 1}{n - r} = \frac{(n - 1)!}{(r - 1)! (n - r)!}$。",
          "rules": [
            {
              "rule": "即$\\sum_{i = 1}^r x_i = n - r$的非负整数解数目",
              "score": 5
            },
            {
              "rule": "$\\binom{n - 1}{n - r} = \\frac{(n - 1)!}{(r - 1)! (n - r)!}$",
              "score": 5
            }
          ]
        }
      ]
    }
  },
  "1.7": {
    "problem": "将 $n$ 个相同的小球放入 $r$ 个不同的盒子中，每盒中至少 $k$ 个球（$n \\geq r k$），求方案数。",
    "answers": {
      "(1)": [
        {
          "answer": "即$\\sum_{i = 1}^r x_i = n - rk$的非负整数解数目，为$\\binom{n + r - rk - 1}{n - rk} = \\frac{(n + r - rk - 1)!}{(r - 1)! (n - rk)!}$。",
          "rules": [
            {
              "rule": "即$\\sum_{i = 1}^r x_i = n - rk$的非负整数解数目",
              "score": 5
            },
            {
              "rule": "$\\binom{n + r - rk - 1}{n - rk} = \\frac{(n + r - rk - 1)!}{(r - 1)! (n - rk)!}$",
              "score": 5
            }
          ]
        }
      ]
    }
  },
  "1.8": {
    "problem": "8 个盒子排成一列，将 5 个不同的小球放入这些盒子，要求空盒不相邻，求方案数。",
    "answers": {
      "(1)": [
        {
          "answer": "注意题目并未要求每个盒子只能放一个小球，因此需要讨论空盒数目。\n    可能的空盒数目为$3$和$4$，其余情况下必然存在相邻空盒，因此讨论这两种情况即可。\n    %\n    \\begin{itemize}\n        \\item 若有$3$个空盒，则选择空盒的方案数为$\\binom{8 - 3 + 1}{3} = 20$，其余盒子每个放一个小球，方案数为$5! = 120$，相乘得此情况下的方案数为$2400$；\n        \\item 若有$4$个空盒，则选择空盒的方案数为$\\binom{8 - 4 + 1}{4} = 5$，剩下有一个盒子中放两个小球、其余各放一个，可看成是先选两个小球组成一个整体，再与其余小球作排列，方案数为$\\binom{5}{2} \\dotp 4! = 240$，相乘得此情况下的方案数为$1200$。\n    \\end{itemize}\n    %\n    合计$3600$种方案。",
          "rules": [
            {
              "rule": "可能的空盒数目为$3$和$4$，其余情况下必然存在相邻空盒，因此讨论这两种情况即可。",
              "score": 2
            },
            {
              "rule": "若有$3$个空盒，则选择空盒的方案数为$\\binom{8 - 3 + 1}{3} = 20$，其余盒子每个放一个小球，方案数为$5! = 120$，相乘得此情况下的方案数为$2400$；",
              "score": 4
            },
            {
              "rule": "若有$4$个空盒，则选择空盒的方案数为$\\binom{8 - 4 + 1}{4} = 5$，剩下有一个盒子中放两个小球、其余各放一个，可看成是先选两个小球组成一个整体，再与其余小球作排列，方案数为$\\binom{5}{2} \\dotp 4! = 240$，相乘得此情况下的方案数为$1200$",
              "score": 4
            }
          ]
        }
      ]
    }
  },
  "1.9": {
    "problem": "设 $A = \\{(a, b) \\mid a, b \\in \\mathbb{Z},\\ 0 \\leq a \\leq 9,\\ 0 \\leq b \\leq 5\\}$。\n     \\begin{enumerate}[label=(\\arabic*)] \n         \\item 求 $xOy$ 平面上以 $A$ 中的点为四个顶点、四边与坐标轴平行的长方形数目； \n        \\item 求 $xOy$ 平面上以 $A$ 中的点为四个顶点、四边与坐标轴平行的正方形数目。\n    \\end{enumerate}",
    "answers": {
      "(1)": [
        {
          "answer": "先任选两行，再任选两列，方案数为$\\binom{10}{2} \\binom{6}{2} = 675$；\n              也可看成是先从$A$中任选一点$P$（$60$种方案），再任选与$P$不同行同列的一点$Q$（$60 - 10 - 6 + 1 = 45$种方案），作为长方形的一组对顶点，但这样会将每个长方形重复计数$4$次，因此结果为$\frac{60 \times 45}{4} = 675$；",
          "rules": [
            {
              "rule": "先任选两行，再任选两列，方案数为$\\binom{10}{2} \\binom{6}{2} = 675$；",
              "score": 5
            }
          ]
        }
      ],
      "(2)": [
        {
          "answer": "边长为$k$（$1 \\leq k \\leq 5$）的正方形的左下角有$(10 - k)(6 - k)$种选择，因此总方案数为 \n              %\n              \\begin{equation*}\n                  \\sum_{k = 1}^5 (10 - k)(6 - k) = 45 + 32 + 21 + 12 + 5 = 115\n              \\end{equation*}",
          "rules": [
            {
              "rule": "边长为$k$（$1 \\leq k \\leq 5$）的正方形的左下角有$(10 - k)(6 - k)$种选择",
              "score": 3
            },
            {
              "rule": "总方案数为 \n              %\n              \\begin{equation*}\n                  \\sum_{k = 1}^5 (10 - k)(6 - k) = 45 + 32 + 21 + 12 + 5 = 115\n              \\end{equation*}",
              "score": 2
            }
          ]
        }
      ]
    }
  },
  "1.10": {
    "problem": "分别求从如下多重集中选取 $n$ 个元素的方案数：\n    \\begin{enumerate}[label=(\\arabic*)]\n        \\item 大小为 $2n$ 的多重集 $\\{n \\cdot 0,\\,1,\\,2,\\,\\dots,\\,n\\}$；\n        \\item 大小为 $3n + 1$ 的多重集 $\\{n \\cdot 0,\\,1,\\,2,\\,\\dots,\\,2n + 1\\}$。\n    \\end{enumerate}",
    "answers": {
      "(1)": [
        {
          "answer": "设选$k$个$0$，则需从$1, 2, \\cdots, n$中选$n - k$个元素，总方案数即为$\\sum_{k = 0}^n \binom{n}{n - k} = 2^n$；\n              也可这样理解：$1, 2, \\cdots, n$中的每个元素均可独立地选或不选，最后按照选出元素的数量补$0$即可，因此总方案数为$2^n$；",
          "rules": [
            {
              "rule": "总方案数即为$\\sum_{k = 0}^n \binom{n}{n - k} = 2^n$",
              "score": 5
            }
          ]
        }
      ],
      "(2)": [
        {
          "answer": "设选$k$个$0$，则需从$1, 2, \\cdots, 2n+1$中选$n - k$个元素，总方案数即为\n               %\n              \\begin{align*}\n                  \\sum_{k = 0}^n \\binom{2n + 1}{n - k} & = \\sum_{k = 0}^n \binom{2n + 1}{k}                                                                      \\\n                                                       & = \\frac{1}{2} \\left[ \\sum_{k = 0}^n \\binom{2n + 1}{k} + \\sum_{k = 0}^n \binom{2n + 1}{k} \right]        \\\n                                                       & = \\frac{1}{2} \\left[ \\sum_{k = 0}^n \\binom{2n + 1}{k} + \\sum_{k = n+1}^{2n+1} \\binom{2n + 1}{k} \right] \\\n                                                       & = \\frac{1}{2} \\sum_{k = 0}^{2n+1} \binom{2n + 1}{k} = \\frac{1}{2} \\dotp 2^{2n+1} = 2^{2n}\n              \\end{align*}",
          "rules": [
            {
              "rule": "设选$k$个$0$，则需从$1, 2, \\cdots, 2n+1$中选$n - k$个元素",
              "score": 2
            },
            {
              "rule": "总方案数即为2^{2n}",
              "score": 3
            }
          ]
        }
      ]
    }
  },
  "1.11": {
    "problem": "5 台教学机器编号为 $1,\\,2,\\,3,\\,4,\\,5$，分配给 $m$ 名学生使用，使用第 $1$ 台和第 $2$ 台的人数相等，求分配方案数。",
    "answers": {
      "(1)": [
        {
          "answer": "设第一台、第二台机器每台有$k$人使用，按题目要求列式为$\\sum_{k = 0}^{\\lfloor m / 2 \rfloor} \\binom{m}{k} \\binom{m - k}{k} 3^{m - 2k}$。",
          "rules": [
            {
              "rule": "设第一台、第二台机器每台有$k$人使用$",
              "score": 3
            },
            {
              "rule": "$\\sum_{k = 0}^{\\lfloor m / 2 \rfloor} \\binom{m}{k} \\binom{m - k}{k} 3^{m - 2k}$",
              "score": 7
            }
          ]
        }
      ]
    }
  },
  "1.12": {
    "problem": "由 $n$ 个 $0$ 和 $n$ 个 $1$ 构成的 $2n$ 位二进制串，要求任意前 $k$ 位中 $0$ 的数目不少于 $1$ 的数目（$1 \\leq k \\leq 2n$），求满足要求的二进制串的数目",
    "answers": {
      "(1)": [
        {
          "answer": "参见教材5.1节。\n    具体地，题设要求从$(0, 0)$沿格路走至$(n, n)$，但路线不能接触直线$y = x + 1$；\n    将每条非法路线第一次接触$y = x + 1$前的部分沿此直线翻转，可得一条从$(-1, 1)$至$(n, n)$的路线，容易看出这样的路线与原先的非法路线一一对应。\n    因此，答案即为$\\binom{2n}{n} - \\binom{2n}{n - 1} = \\frac{1}{n + 1}\\binom{2n}{n}$。",
          "rules": [
            {
              "rule": "答案即为$\\binom{2n}{n} - \\binom{2n}{n - 1} = \\frac{1}{n + 1}\\binom{2n}{n}$",
              "score": 10
            }
          ]
        }
      ]
    }
  }
}
