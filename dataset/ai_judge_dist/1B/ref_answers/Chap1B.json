{
  "1.25": {
    "problem": "设$n, r$是正整数，令$S$是由$\\left\\{ 1, 2, \\cdots, n \\right\\}$的全体$r$元子集构成的集合，证明： % \\begin{equation*} \\sum_{A \\in S} \\min A = \\binom{n + 1}{r + 1} \\end{equation*}",
    "answers": {
      "(1)": [
        {
          "answer": "考虑选择$\\left\\{ 0, 1, 2, \\cdots, n \\right\\}$的$r + 1$元子集，然后去掉其中的最小元后得到$A$。 $A$显然是$\\left\\{ 1, 2, \\cdots, n \\right\\}$的$r$元子集，并且共有$\\min A$个集合在去掉最小元后都能得到$A$。 因此，和式的值即为$\\binom{n + 1}{r + 1}$。",
          "rules": [
            {
              "rule": "说明每个$r$元子集最小值与$r+1$元子集有映射关系",
              "score": 10
            }
          ]
        },
        {
          "answer": "$\\min A = k$且满足$A\\in S$的数量为$\\binom{n-k}{r-1}$。观察$r$元子集$A$中第二小的元素，假设为$k+1$，那么$k+1$左侧的一个元素有$k$种选择，$k+1$右侧的元素有$\\binom{(n+1)-(k+1)}{r-1}=\\binom{n-k}{r-1}$种选择，因此$\\binom{n+1}{r+1} = \\sum_{k=1}^{n-r+1} \\binom{n-k}{r-1}=\\sum_{A \\in S} \\min A$",
          "rules": [
            {
              "rule": "得到结论：\\min A=k的集合有\\binom{n-k}{r-1}个",
              "score": 5
            },
            {
              "rule": "使用组合求和恒等式$\\binom{n+1}{r+1} = \\sum_{k=1}^{n-r+1} \\binom{n-k}{r-1}$",
              "score": 5
            }
          ]
        }
      ]
    }
  },
  "1.26": {
    "problem": "对$26$个小写英文字母作全排列，要求单词 dog 出现在排列中，并且字母p在字母q前面、dog在p和q之间，求满足上述条件的的排列方案数。",
    "answers": {
      "(1)": [
        {
          "answer": "将dog视作一个整体与其他$23$个字母一起参与排列，其中p, dog, q只能按顺序出现，方案数即为$\\frac{24!}{3!}$。",
          "rules": [
            {
              "rule": "dog视作整体，得到24!",
              "score": 4
            },
            {
              "rule": "p, dog, q按顺序出现，需要/3!",
              "score": 4
            },
            {
              "rule": "答案正确",
              "score": 2
            }
          ]
        },
        {
          "answer": "假设$p$左边有$x_1$个字母，$p$和$dog$之间有$x_2$个字母，$dog$和$q$之间有$x_3$个字母，$q$右边有$x_4$个字母，因此我们可以得到不定方程$x_1 + x_2 + x_3 + x_4 = 21, x_i\\geq 0,i = 1,2,3,4$。根据不定方程非负解的个数可得有$\\binom{21+4-1}{4-1} = \\binom{24}{3}$。剩下21个位置的排列共有$21!$种，两者独立，根据乘法原理，总的排列数是：$\\binom{24}{3}\\times 21! = \\frac{24!}{3!}$",
          "rules": [
            {
              "rule": "列出正确不定方程",
              "score": 4
            },
            {
              "rule": "根据不定方程解出方案数",
              "score": 2
            },
            {
              "rule": "剩下位置排列",
              "score": 3
            },
            {
              "rule": "乘法原理得到答案",
              "score": 1
            }
          ]
        }
      ]
    }
  },
  "1.27": {
    "problem": "有$100$个英文字母，其中a、b、c、d、e各有$1$个，f、g、h、i、j各有$19$个。 现将这$100$个字母排成一列，要求字母a、b、c、d、e按照字母表顺序排列，并且a、b之间相隔至少$3$个字母，b、c之间相隔至少$5$个字母，c、d之间相隔至少$7$个字母，d、e之间相隔至少$9$个字母。 求满足上述要求的排列方案数。",
    "answers": {
      "(1)": [
        {
          "answer": "先为除$a, b, c, d, e$以外的字母安排位置，相当于求$x_1 + x_2 + \\cdots + x_6 = 71$的非负整数解数目，方案数为$\\binom{76}{5}$； 然后排列这些字母，方案数为$\\frac{95!}{(19)^5}$。 相乘即得总的方案数为$\\binom{76}{5}\\frac{95!}{(19)^5}$。",
          "rules": [
            {
              "rule": "列出不定方程",
              "score": 3
            },
            {
              "rule": "化为标准形式，即任意变量的限制都是$x\\ge0$",
              "score": 1
            },
            {
              "rule": "插板法得到解的正确数目",
              "score": 3
            },
            {
              "rule": "由多重排列得到95个位置的排列数",
              "score": 2
            },
            {
              "rule": "乘法原理得到正确答案",
              "score": 1
            }
          ]
        }
      ]
    }
  },
  "1.28": {
    "problem": "从不定方程非负整数解数目的视角，证明下列等式成立： % \\begin{equation*} \\binom{n + m}{m} = \\sum_{k = 0}^{n} \\binom{k + m - 1}{m - 1} \\qquad (n \\geq 0, \\; m \\geq 1) \\end{equation*}",
    "answers": {
      "(1)": [
        {
          "answer": "等式左侧为$\\sum_{i = 1}^{m+1} x_i = n$的非负整数解数目，等式右侧和式中的第$k$项表示$\\sum_{i = 1}^m x_i = k$且$x_{m+1} = n - k$的非负整数解数目，可知右侧和式与左侧相等。 证明方法不只这一种，其他方法只要满足题意亦可。",
          "rules": [
            {
              "rule": "构造左侧对应的不定方程",
              "score": 3
            },
            {
              "rule": "求解左侧不定方程解个数",
              "score": 2
            },
            {
              "rule": "构造右侧对应的不定方程",
              "score": 3
            },
            {
              "rule": "求解右侧不定方程解个数",
              "score": 2
            }
          ]
        }
      ]
    }
  },
  "1.29": {
    "problem": "从$-5, -4, -3, -2, -1, 1, 2, 3, 4$这$9$个数中选出$4$个，要求其乘积为正数。 % \\begin{enumerate}[label={\\rm (\\arabic*)}] \\item 若选择的数字互不相同，求方案数； \\item 若选择的数字允许相同，求方案数。 \\end{enumerate}",
    "answers": {
      "(1)": [
        {
          "answer": "\\item 四个正数$1$种方案，两正两负$\\binom{4}{2}\\binom{5}{2} = 60$种方案，四个负数$\\binom{5}{4} = 5$种方案，合计$66$种；",
          "rules": [
            {
              "rule": "4正情况正确",
              "score": 1
            },
            {
              "rule": "2正2负情况正确",
              "score": 2
            },
            {
              "rule": "4负情况正确",
              "score": 1
            },
            {
              "rule": "求和正确",
              "score": 1
            }
          ]
        }
      ],
      "(2)": [
        {
          "answer": "\\item 若四个正数，设第$i$个正整数选择$x_i$次，则就相当于求$x_1 + x_2 + x_3 + x_4 = 4$的非负整数解数目，为$\\binom{7}{3} = 35$种方案； 类似地，两正两负$\\binom{6}{4}\\binom{5}{3} = 150$种方案，四个负数$\\binom{8}{4} = 5$种方案，合计$255$种。",
          "rules": [
            {
              "rule": "4正情况正确",
              "score": 1
            },
            {
              "rule": "2正2负情况正确",
              "score": 2
            },
            {
              "rule": "4负情况正确",
              "score": 1
            },
            {
              "rule": "求和正确",
              "score": 1
            }
          ]
        }
      ]
    }
  },
  "1.30": {
    "problem": "求不定方程$xyz = 1\\,000\\,000$的整数解数目。",
    "answers": {
      "(1)": [
        {
          "answer": "$10^6 = 2^6 \\times 5^6$，$2, 5$这两个因子在$x, y, z$中的分配均等价于$x_1 + x_2 + x_3 = 6$的非负整数解，为$\\binom{8}{2}$。 由于要求整数解而不是非负整数解，因此需再乘以$4$种符号分配方式，总方案数为$\\binom{8}{2}^2 \\dotp 4 = 3136$。",
          "rules": [
            {
              "rule": "分解$10^6$",
              "score": 1
            },
            {
              "rule": "列出不定方程",
              "score": 4
            },
            {
              "rule": "得到不定方程解个数",
              "score": 2
            },
            {
              "rule": "考虑负数情况",
              "score": 2
            },
            {
              "rule": "答案正确",
              "score": 1
            }
          ]
        }
      ]
    }
  },
  "1.31": {
    "problem": "设$n$是正整数，证明：$\\sum_{k = 1}^n \\frac{k \\dotp P(n, k)}{n^{k+1}} = 1$。",
    "answers": {
      "(1)": [
        {
          "answer": "考虑由$1, 2, \\cdots, n$组成长度为$n + 1$的序列，方案数为$n^{n + 1}$。 现在讨论此排列各元素互异的最长前缀的长度。 若此前缀长度为$k$，则此前缀有$P(n, k)$种构造方式； 第$k + 1$个元素必须和前面重复，因此有$k$种选择； 后续的元素可以任意，有$n^{n - k}$种选择。 由此即有 % \\begin{equation*} \\sum_{k = 1}^n P(n, k) \\dotp k \\dotp n^{n - k} = n^{n + 1} \\end{equation*} % 两侧同除以$n^{n + 1}$即得所要证的等式。",
          "rules": [
            {
              "rule": "找到$n^{n+1}$的组合含义",
              "score": 2
            },
            {
              "rule": "找到$k\\dotp P(n,k)的组合含义",
              "score": 2
            },
            {
              "rule": "找到$\\frac{1}{n^{k+1}}$的组合含义",
              "score": 2
            },
            {
              "rule": "鸽巢原理得到前$k+1$个元素必重复",
              "score": 3
            },
            {
              "rule": "得到正确和式",
              "score": 1
            }
          ]
        }
      ]
    }
  },
  "1.32": {
    "problem": "设$a_1 a_2 \\cdots a_n$是$\\left\\{ 1, 2, \\cdots, n \\right\\}$的一个排列，我们将排在$a_i$后面且比$a_i$小的数的个数称为$a_i$的中介数。 例如，对于排列$364521$，$4$的中介数为$2$。 求$\\left\\{ 1, 2, \\cdots, 8 \\right\\}$的所有排列中，满足$8$的中介数为$2$、$7$的中介数为$3$、$5$的中介数为$3$的排列方案数。",
    "answers": {
      "(1)": [
        {
          "answer": "$8$后面有$2$个比它小的元素，因此它只能在第$6$个位置； $7$后面有$3$个比它小的元素，因此它只能在第$4$个位置，如下所示： % \\begin{equation*} \\begin{array}{cccccccc} \\underline{\\quad} & \\underline{\\quad} & \\underline{\\quad} & 7 & \\underline{\\quad} & 8 & \\underline{\\quad} & \\underline{\\quad} \\end{array} \\end{equation*} % $5$后面有$3$个比它小的元素，因此它只能在第$2$或$3$个位置。 无论哪种情况下，$5$前面都必须恰有一个比它小的元素。 % \\begin{itemize} \\item 若$5$在第$2$个位置，方案数为$4 \\dotp 4! = 96$； \\item 若$5$在第$3$个位置，方案数为$2 \\dotp \\binom{4}{1} \\dotp 3! = 48$。 \\end{itemize} % 共计$144$种方案。",
          "rules": [
            {
              "rule": "证明5,7,8顺序",
              "score": 3
            },
            {
              "rule": "得到7和8位置",
              "score": 3
            },
            {
              "rule": "分类讨论得到正确结果",
              "score": 4
            }
          ]
        }
      ]
    }
  },
  "1.33": {
    "problem": "有$m$个不同的盒子，将$r$个相同的小球放入其中的$n$个盒子中，要求这$n$个盒子互不相邻且每盒至少包含$k$个球（$r \\geq nk, \\; m \\geq 2n - 1$）。 求满足要求的放球方案数。",
    "answers": {
      "(1)": [
        {
          "answer": "先选择放球的盒子，不相邻组合方案数为$\\binom{m - n + 1}{n}$； 再决定盒子中小球数量，相当于$x_1 + x_2 + \\cdots + x_n = r - nk$的非负整数解，方案数为$\\binom{r - nk + n - 1}{n - 1}$。 因此总的方案数即为$\\binom{m - n + 1}{n} \\binom{r - nk + n - 1}{n - 1}$。",
          "rules": [
            {
              "rule": "得到不相邻组合方案数",
              "score": 5
            },
            {
              "rule": "得到小球数量分配的方案数",
              "score": 4
            },
            {
              "rule": "乘法原理得到答案",
              "score": 1
            }
          ]
        }
      ]
    }
  },
  "1.34": {
    "problem": "有$n$个小写英文字母，其中第$k$种字母的出现次数为$a_k$，保证$\\sum_{k = 1}^{26} a_k = n$。 现使用这些字母组成一个字符串，要求不能为回文串（即逆序后与原串相同的字符串）。 通过讨论各$a_i$的奇偶性，求符合要求的字符串数目。",
    "answers": {
      "(1)": [
        {
          "answer": "分类讨论： % \\begin{itemize} \\item 若有两个或以上$a_i$为奇数，则无论如何不可能构造出回文串，答案为$\\binom{n}{a_1 \\; a_2 \\; \\cdots a_{26}}$； \\item 若仅$a_k$为奇数，则要构成回文串必须是字母$k$位于中央，其两侧字符串互为逆序； 去除这种情况后，答案为$\\binom{n}{a_1 \\; a_2 \\; \\cdots a_k} - \\binom{(n-1)/2}{a_1/2 \\; a_2/2 \\; \\cdots \\; (a_k-1)/2 \\; \\cdots a_{26}/2}$； \\item 若全为偶数，则要构成回文串必须是前一半、后一半字符串互为逆序； 去除这种情况后，答案为$\\binom{n}{a_1 \\; a_2 \\; \\cdots a_k} - \\binom{n/2}{a_1/2 \\; a_2/2 \\; \\cdots a_{26}/2}$。 \\end{itemize}",
          "rules": [
            {
              "rule": "得到总回文串数量",
              "score": 1
            },
            {
              "rule": "多余一个奇数的情况正确",
              "score": 3
            },
            {
              "rule": "恰好一个奇数的情况正确",
              "score": 3
            },
            {
              "rule": "全为偶数的情况正确",
              "score": 3
            }
          ]
        }
      ]
    }
  },
  "1.35": {
    "problem": "若将一个三阶魔方的角块和棱块全部拆下，然后再随机拼回，则魔方能复原的概率为$\\frac{1}{12}$。 根据这一条件，求三阶魔方的合法状态（即能复原的状态）数目。",
    "answers": {
      "(1)": [
        {
          "answer": "固定魔方，拆下其所有角块（$8$个）与棱块（$12$个），然后逐个拼回。 角块和棱块的位置有$8! \\dotp 12!$种情况，每个角块有$3$个角度，每个棱块有$2$个角度，因此共计$8! \\dotp 12! \\dotp 3^8 \\dotp 2^{12}$。 除以$12$即得$12! \\dotp 8! \\dotp 3^7 \\dotp 2^{10}$。",
          "rules": [
            {
              "rule": "注意到一个三阶魔方共有8个角块和12个棱块",
              "score": 2
            },
            {
              "rule": "每个棱块有2个方向",
              "score": 1
            },
            {
              "rule": "每个角块有3个方向",
              "score": 1
            },
            {
              "rule": "得到有重总状态数",
              "score": 4
            },
            {
              "rule": "除以12得到答案",
              "score": 2
            }
          ]
        }
      ]
    }
  },
  "1.36": {
    "problem": "某份试卷中有一道包含四个选项$A, B, C, D$的选择题，共有$147$位同学交卷。 现需要统计选择了每个选项的同学人数。 例如，统计结果可能是$\\left\\{ A: 100, \\; B: 0, \\; C: 42, \\; D: 5 \\right\\}$。 % \\begin{enumerate}[label={\\rm (\\arabic*)}] \\item 若所有同学都回答了此题，求可能出现的统计结果数目。 \\item 若每位同学均可能没有回答此题，求可能出现的统计结果数目。 \\item 假设此题的正确答案是$C$，为了提高平均分，规定若做对此题的人不足交卷同学的一半，则此题不算分。 每位同学均可能没有回答此题，求使此题算分的统计结果数目。 \\end{enumerate}",
    "answers": {
      "(1)": [
        {
          "answer": "\\item $A + B + C + D = 147$的非负整数解数目，为$\\binom{150}{3}$；",
          "rules": [
            {
              "rule": "正确",
              "score": 3
            }
          ]
        }
      ],
      "(2)": [
        {
          "answer": "\\item 让没有回答的同学都去选$E$选项，相当于$A + B + C + D + E = 147$的非负整数解数目，为$\\binom{151}{4}$；",
          "rules": [
            {
              "rule": "正确",
              "score": 3
            }
          ]
        }
      ],
      "(3)": [
        {
          "answer": "\\item $74$位同学必须选$C$，相当于$A + B + C + D + E = 73$的非负整数解数目，为$\\binom{77}{4}$。",
          "rules": [
            {
              "rule": "正确",
              "score": 3
            }
          ]
        }
      ]
    }
  }
}